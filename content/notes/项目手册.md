---
title: "开发与使用手册" 
date: "2026-01-14"          # 格式：YYYY-MM-DD
description: "本文档详细说明了如何在该博客系统中发布标准笔记（Notes）以及创建高阶交互式实验（Labs）"
tags: ["React", "Next.js"]  # 可选：手动标签
status: "published"         # 可选：published | draft (草稿不显示)
---

# **个人博客与交互实验室 \- 开发与使用手册**

**版本**：v1.0

**适用对象**：开发者、内容创作者、AI 助手

**核心架构**：Next.js App Router \+ Tailwind CSS \+ Framer Motion \+ Markdown/MDX

本文档详细说明了如何在该博客系统中发布标准笔记（Notes）以及创建高阶交互式实验（Labs）。

## **1\. 目录结构概览**

理解目录结构是发布内容的前提：

/  
├── app/                 \# Next.js 路由逻辑 (通常无需修改)  
├── components/          \# 通用 UI 组件  
├── content/             \# \[文档库\] 存放 Markdown 文件  
│   ├── notes/           \# \-\> 博客文章 (.md)  
│   └── labs/            \# \-\> 实验说明文档 (.md)  
├── labs/                \# \[代码库\] 存放交互式 React 组件  
│   ├── \_registry.ts     \# \-\> 实验注册表 (新增实验改这里)  
│   └── \[slug\]/          \# \-\> 具体实验的 React 代码 (index.tsx)  
└── public/              \# 静态资源 (图片等)

## **2\. 标准笔记 (Notes) 撰写指南**

标准笔记用于发布技术文章、学习心得等以**阅读**为主的内容。

### **2.1 文件位置**

将 .md 文件放入 content/notes/ 目录。

* 支持子目录（例如 content/notes/ai/llm.md），系统会自动生成标签和路由。

### **2.2 头部元数据 (Frontmatter)**

每篇笔记必须包含以下 YAML 头部：

\---  
title: "文章标题"   
date: "2026-01-14"          \# 格式：YYYY-MM-DD  
description: "一句话摘要，显示在列表页和 SEO 信息中"  
tags: \["React", "Next.js"\]  \# 可选：手动标签  
status: "published"         \# 可选：published | draft (草稿不显示)  
\---

### **2.3 Markdown 增强语法**

系统内置了对 Obsidian 和学术写作的深度支持：

* **数学公式 (LaTeX)**：  
  * 行内：$E=mc^2$  
  * 块级：$$ \sum_{i=0}^n i^2 = \frac{(n^2+n)(2n+1)}{6} $$  
* **Obsidian 风格 Callout (警告框)**：  
  > \[\!info\] 提示  
  > 这是一个信息提示框。

  > \[\!warning\] 注意  
  > 这是一个警告框。

* Obsidian 图片引用：  
  直接使用 \!\[\[image.png\]\] 语法（需确保图片在 public/ 或相关资源目录，建议使用标准 Markdown \!\[\](/path/to/img) 更稳健）。

## **3\. 交互式实验 (Labs) 开发指南 【重点】**

Labs 是本项目的核心特色，支持**React 组件 \+ Markdown 文档**混合模式，也支持**纯 React 全屏应用**模式。

### **3.1 核心概念：Labs 的组成**

一个完整的 Lab 由三个部分组成（按需创建）：

1. **代码 (Code)**：labs/\[slug\]/index.tsx —— 实际运行的 React 组件。  
2. **注册 (Registry)**：labs/\_registry.ts —— 告诉系统这个实验存在。  
3. **文档 (Doc)**：content/labs/\[slug\].md —— (可选) 实验下方的说明文档。

### **3.2 场景 A：混合模式 (交互组件 \+ 说明文档)**

适用于：算法可视化、UI 组件展示、小型工具。页面上方显示组件，下方显示文档。

步骤 1：创建组件  
新建 labs/my-demo/index.tsx：
```
"use client"; // 交互组件必须标记为 client

import React, { useState } from "react";  
import { motion } from "framer-motion";

export default function MyDemo() {  
    const \[count, setCount\] \= useState(0);  
    return (  
        \<div className="p-8 text-center"\>  
            \<h2 className="text-2xl font-bold mb-4"\>Hello Lab\</h2\>  
            \<button   
                onClick={() \=\> setCount(c \=\> c \+ 1)}  
                className="px-4 py-2 bg-blue-500 text-white rounded-lg"  
            \>  
                Clicked {count} times  
            \</button\>  
        \</div\>  
    );  
}
```
步骤 2：注册组件  
修改 labs/\_registry.ts： 
```
export const labs: Lab\[\] \= \[  
    {  
        slug: "my-demo", // 对应文件夹名  
        title: "我的交互演示",  
        description: "这是一个测试组件。",  
        date: "2026-01-14",  
        tags: \["Demo"\],  
        fullScreen: false, // 混合模式设为 false 或省略  
    },  
    // ...  
\];
```
步骤 3：编写说明文档 (可选)  
新建 content/labs/my-demo.md： 
```
\---  
title: "我的交互演示"  
date: "2026-01-14"  
description: "文档描述..."  
\---

\#\# 原理说明  
这里可以使用 \*\*Markdown\*\* 详细解释上面的组件是如何工作的。  
支持代码块高亮：  
\\\`\\\`\\\`js  
const a \= 1;  
\\\`\\\`\\\`
```
### **3.3 场景 B：纯 React 全屏模式 (Canvas / App)**

适用于：独立工具、沉浸式图表、复杂的单页应用（如财务计算器）。页面将移除边框、圆角和内边距，组件独占画布。

步骤 1：创建组件  
新建 labs/fire-calculator/index.tsx。

* **注意**：由于是全屏模式，组件最外层 div 建议设置为 w-full h-full，并自行处理内边距和布局。
```
"use client";  
import React from "react";

export default function FullScreenApp() {  
    return (  
        \<div className="w-full h-full bg-neutral-900 text-white p-6"\>  
            {/\* 你的完整应用代码 \*/}  
            \<h1\>沉浸式全屏应用\</h1\>  
        \</div\>  
    );  
}
```
步骤 2：注册并开启 FullScreen  
修改 labs/\_registry.ts：  
```
{  
    slug: "fire-calculator",  
    title: "FIRE 计算器",  
    description: "全屏应用示例。",  
    date: "2026-01-14",  
    tags: \["Tool"\],  
    fullScreen: true, // 【关键】开启全屏模式  
},
```
步骤 3：文档 (通常不需要)  
全屏模式下通常不需要额外的 Markdown 文档，但如果你创建了 content/labs/fire-calculator.md，它依然会显示在全屏画布的下方，用于 SEO 或补充说明。

## **4\. 给 AI 助手的开发提示 (Prompting Guide)**

如果你让 AI (ChatGPT/Claude/Gemini) 帮你写代码，请附加以下指令以确保兼容性：

### **通用指令**

* **样式框架**：必须使用 **Tailwind CSS**。不要写任何 .css 文件或 styled-components。  
* **图标库**：使用 lucide-react。  
* **动画库**：使用 framer-motion。  
* **暗黑模式**：必须支持 Dark Mode（使用 Tailwind 的 dark: 前缀）。例如 bg-white dark:bg-neutral-900。

### **针对 Labs 组件的指令**

* **文件结构**：请生成一个**单文件** React 组件代码（index.tsx）。  
* **客户端渲染**：文件头部必须包含 "use client";。  
* **无外部依赖**：尽量不要引入复杂的第三方 npm 包（Recharts 等），除非明确被告知已安装。优先使用 SVG \+ Framer Motion 手写图表。  
* **响应式**：组件必须适配移动端。

## **5\. 常见问题排查**

**Q: 访问 /labs/xxx 报错 "Component not found"？**

* 检查 labs/xxx/index.tsx 文件是否存在。  
* 检查 labs/\_registry.ts 中的 slug 是否与文件夹名完全一致。

**Q: 组件修改后页面没变化？**

* Next.js 缓存较强，尝试刷新页面，或删除 .next 文件夹后重启 npm run dev。

**Q: 报错 Element type is invalid？**

* 检查 lab-stage.tsx 中的动态导入逻辑是否正确处理了 Promise 返回值（参考最新版代码）。

## **6\. 部署与维护**

1. **本地预览**：  
   npm run dev

   访问 http://localhost:3000。  
2. 发布上线：  
   本项目已配置 Vercel 自动部署。  
   * 提交代码到 GitHub：  
     git add .  
     git commit \-m "Add new lab: fire-calculator"  
     git push  
