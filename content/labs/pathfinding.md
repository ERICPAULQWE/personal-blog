---
title: "寻路算法可视化"
date: "2026-01-14"
description: "演示启发式搜索如何在复杂地形中找到最短路径"
tags: ["Algorithm", "React", "Visualization"]
---
## 🧪 实验概述

寻路算法是计算机科学中的经典课题。本实验通过 React 构建了一个 $21 \times 31$ 的交互式网格，旨在直观展示四种不同逻辑的搜索算法如何处理路径规划问题，并内置了基于递归分割原理的迷宫生成器。

---

## 🧠 算法解析

### 1. 经典搜索算法

* **广度优先搜索 (BFS)**: 像水波纹一样均匀扩散。它能保证在无权图中找到最短路径，但搜索空间巨大。
* **深度优先搜索 (DFS)**: “一条路走到黑”的典型。它不保证最短路径，且在复杂地形中容易陷入无效的深层探索。
* **A * 算法 (A-Star)**: 结合了起点代价 $g(n)$ 和终点启发式估计 $h(n)$。
    $$f(n) = g(n) + h(n)$$
    本实验采用 **曼哈顿距离** 作为启发函数，使其在开阔地带具有极强的方向性。



### 2. 蚁群算法 (ACO)

蚁群算法是一种模拟蚂蚁觅食行为的启发式概率算法。不同于前三者的确定性逻辑，ACO 依赖于 **信息素 (Pheromone)** 的累积与挥发。

* **路径选择概率**: 蚂蚁选择下一步的概率受该位置信息素浓度 $\tau$ 和启发式信息 $\eta$（距离目标的倒数）共同影响。
* **正反馈机制**: 到达终点的蚂蚁会根据路径长度回馈信息素，路径越短，信息素浓度增加越快。
* **可视化优化**: 为了解决开阔地带路径不清晰的问题，本实验采用了**非线性伽马映射**渲染信息素：
    `rgba(14, 165, 233, pheromone^0.7)`



---

## 🧱 迷宫生成：递归分割 (Recursive Division)

实验内置的迷宫生成器采用了分治思想。算法将原始区域不断进行横向或纵向的切割，并在生成的墙壁上随机“开洞”以确保全图连通。这种算法生成的迷宫具有规整的长廊和复杂的支路，是测试蚁群算法收敛速度的最佳地形。



---

## 🎮 交互指南

1.  **绘制墙壁**: 在网格上点击或拖拽鼠标，可以手动布置障碍物。
2.  **生成迷宫**: 点击“迷宫生成”按钮，观察递归算法如何步步分割空间。
3.  **切换算法**:
    * 选择 **A*** 观察最高效的确定性寻路。
    * 选择 **ACO** 观察群体智能如何通过迭代从随机探索走向路径收敛（建议迭代次数 20 次以上）。
4.  **开始实验**: 点击运行，观察不同颜色的节点变化（蓝色代表已访问/信息素，黄色代表最终路径）。

---

## 🛠 技术实现

* **React Hooks**: 利用 `useRef` 处理频繁的鼠标交互状态，利用 `useState` 驱动 Canvas 级别的网格渲染。
* **异步控制**: 结合 `async/await` 与 `setTimeout` 实现算法执行过程的帧级可视化，确保 UI 线程不阻塞。
* **类型安全**: 严格遵循 TypeScript 定义，通过显式类型中转规避了复杂递归中的类型推断问题。